<p-dialog header="Change Password" [modal]="true" [(visible)]="visible" [style]="{width: '30vw'}" [maximizable]="true">
  <!-- component -->
  <div class="flex items-center justify-center p-6">
    <!-- Author: FormBold Team -->
    <div class="mx-auto w-full max-w-full bg-white">
        <form  autocomplete="off" #createForm="ngForm" (submit)="this.createForm.reset()">
          <div class="-mx-3 flex flex-wrap">
            <div class="w-full px-3 sm:w-full">
                <div class="mb-5">
                    <label for="name" class="mb-3 block text-base font-medium text-[#07074D]">
                        Old Password
                    </label>
                    <input type="text" name="oldPassword" id="oldPassword"  [required]="true" [(ngModel)]="oldPassword"
                        class="w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md" />
                </div>
            </div>
            <div class="w-full px-3 sm:w-full">
                <div class="mb-5">
                    <label for="category" class="mb-3 block text-base font-medium text-[#07074D]">
                        New Password
                    </label>

                    <input type="text" name="newPassword" id="newPassword"  [required]="true" [(ngModel)]="newPassword" minlength="8"
                        class="w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md" />
                        <div *ngIf="newPassword && newPassword.length < 8" class="text-red-500 font">Password must be at least 8 characters long.</div>
                </div>
            </div>
            <div class="w-full px-3 sm:w-full">
              <div class="mb-5">
                  <label for="category" class="mb-3 block text-base font-medium text-[#07074D]">
                      Confirm Password
                  </label>

                  <input type="text" name="confirmedPassword" id="confirmedPassword"  [required]="true" [(ngModel)]="confirmedPassword"
                      class="w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md" />

                      <div *ngIf="passwordMismatch()" class="text-red-500 font">password mismatch!</div>
              </div>


          </div>
        </div>



            <div>
                <button [disabled]="passwordMismatch()||fieldsEmpty() || (newPassword && newPassword.length < 8)" (click)="updatePassword()"
                    class="hover:shadow-form w-full rounded-md bg-blue-500 py-3 px-8 text-center text-base font-semibold text-white outline-none">
                    Update Password
                </button>
            </div>
        </form>
    </div>
</div>

</p-dialog>


<div class=" justify-center flex">
  <div class="">
    <div>
      <div class="bg-white rounded shadow-lg mb-2 px-4 py-4  ">
        <div class="text-gray-600">
          <!-- Profile Picture -->
          <div class="flex justify-center mb-4">
            <img src="assets/images/profile.jpg" alt="Profile Picture" class="rounded-full w-32 h-32">
          </div>
          <!-- Profile Information -->
          <p class="font-medium text-lg flex justify-center mb-4">Profile Information</p>
        </div>
        <div class="">

          <div class="lg:col-span-2">
            <div class="grid gap-4 gap-y-2 text-sm grid-cols-1 md:grid-cols-1">
              <!-- First Name and Last Name on the same row -->
              <div class="flex mb-2">
                <div class="w-1/2 pr-1">
                  <label for="first_name">First Name</label>
                  <input type="text" name="first_name" id="first_name" class="py-3 border mt-1 rounded px-2 w-full bg-gray-50" value="" [(ngModel)]="userObject.firstName" />
                </div>
                <div class="w-1/2 pl-1">
                  <label for="last_name">Last Name</label>
                  <input type="text" name="last_name" id="last_name" class="py-3 border mt-1 rounded px-2 w-full bg-gray-50" value="" [(ngModel)]="userObject.lastName" />
                </div>
              </div>
              <!-- Email Address -->
              <div class="mb-2">
                <label for="email">Email Address</label>
                <input type="text" name="email" id="email" class="py-3 border mt-1 rounded px-2 w-full bg-gray-50" value="" placeholder="email@domain.com" readonly [(ngModel)]="userObject.email" />
              </div>
              <!-- Position -->
              <div class="mb-2">
                <label for="position">Position</label>
                <input type="text" name="position" id="position" class=" border mt-1 rounded px-2 w-full bg-gray-50 py-3" value="" [(ngModel)]="userObject.position" />
              </div>
            </div>
            <div>
              <div class="mt-2 mb-1">
                <button (click)="updateUserInfo()"
                    class="hover:shadow-form w-full rounded-md bg-blue-500 py-3 px-8 text-center text-base font-semibold text-white outline-none">
                    update
                </button>
              </div>
              <p><a  class="forget cursor-pointer" (click)="showDialog()">change password?</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
